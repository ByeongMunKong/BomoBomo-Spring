<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.bomobomo.mapper.ReplyMapper">



    <insert id="insert">

        <selectKey keyProperty="sitterCommentNumber" order="BEFORE" resultType="Long">

                select seq_sitter_comment.nextval from dual

        </selectKey>

            insert into sitter_comment(sitter_comment_number, sitter_comment_content, user_number,  sitter_board_number)
            values (#{sitterCommentNumber}, #{sitterCommentContent}, #{userNumber},   #{sitterBoardNumber})

    </insert>


    <select id="selectList" resultType="sitterCommentVo">

        select sitter_comment_number, sitter_comment_content, sitter_comment_register_date, sitter_comment_modify_date, sitter_board_number, s.user_number, user_id
        from sitter_comment s join users u on sitter_board_number = #{sitterBoardNumber} and s.user_number = u.user_number
        order by sitter_comment_number

    </select>



    <delete id="delete">

        delete from sitter_comment
        where sitter_comment_number = #{sitterCommentNumber}

    </delete>


</mapper>